{'body': 'On Sunday 23 May 2010 04:37:18 Klistvud wrote:\r\n> Howdy, fellow Debianites!\r\n> Given some extra hard drive space, I decided to move my /tmp dir\r\n> (currently located under / ) to a partition of its own. I am looking\r\n> forward to any advice, particularly of the been-there-done-that type:\r\n> * how should I configure my fstab entry? How does Debian installer do\r\n> it?\r\n\r\n  Watch out for permissions -- /tmp is "1777" (rwxrwxrwt), it has to\r\nbe world-writable and have the sticky bit set, which ensures that only\r\nusers who create files in there can write to them.  Permissions come\r\nfrom the mounted FS, not the mount point, so make sure you set these\r\npermissions while it\'s mounted.\r\n\r\n  Because of the world-writability, security conscious admins mount\r\nit nodev and nosuid.  If you\'re more careful, you can mount it noexec,\r\ntoo, but that will break some third-party software installers that\r\nwork by examining your system, writing a custom config script inside\r\n/tmp somewhere, and then running it.\r\n\r\n  So your fstab entry might look like:\r\n\r\n> /dev/with/temp/ /tmp ext3 nosuid,nodev 0 2 \r\n\r\n  \r\n> * is there anything Debian-specific to watch for?\r\n\r\n  Not that I recall.\r\n\r\n> * is it true that setting /tmp permissions to non-executable, while\r\n> hardening your box, prevents apt from working properly?\r\n\r\n  Setting /tmp to non-executable by the noexec mount option does break \r\nthings, but as I said above, my recollection is that it mostly breaks \r\nthird-party stuff.  I think the apt scripts are all in /var/lib/dkpg/info,\r\nand are run from there.\r\n  Setting the *directory* noexec seems very bad, since the exec bit\r\non directories controls the ability to cd to it, and turning that\r\noff would make it largely useless. \r\n\r\n  As to "why", on moderately-high-availability multi-user systems, I \r\noften put /tmp on a separate partition precisely so I can use mount\r\noptions to globally control access.  This is more important in a \r\ntruly multi-user system than a home system, of course.\r\n\r\n  Misbehaving apps rarely but sometimes blow the lid off of /tmp, and\r\nhaving it be on its own partition means this doesn\'t compromise the\r\nsystem as a whole, and you can easily figure out what\'s going on by \r\nseeing the logged errors and looking at "df" output.  Some folks keep\r\n/var/log on a separate partition for similar reasons.\r\n\r\n  Again, all of this is more important in a multi-user production \r\nenvironment.  On my home systems, I mostly don\'t worry about this\r\nsort of thing.\r\n\r\n\t\t\t\t\t-- A. \r\n-- \r\nAndrew Reid / reidac@bellatlantic.net\r\n\r\n\r\n-- \r\nTo UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org \r\nwith a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org\r\nArchive: http://lists.debian.org/201005231038.48482.reidac@bellatlantic.net\r\n\r\n\r\n', 'subject': 'Re: Moving /tmp to a separate partition. Advice?'}