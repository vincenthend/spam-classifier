{'body': "On May 5, 2010, at 9:12 PM, ext Dominic Giampaolo wrote:\n\n>> - I create a FSEventStream with the right directories to watch\n>> - if the user adds or removes a directory, I delete the current FSEventStream and create a new one with the right values\n>> \n> Are you sure that you're properly tearing down and\n> releasing the old FSEvent stream before creating \n> the new one? \n> \n\nYes, I am sure of that.\nI printed all the steps on the output to check:\n\n# Create stream \n## Schedule stream \n### Start stream \n[stuff happens]\n#### Stop stream \n##### Invalidate stream \n###### Release stream \n# Create stream \n## Schedule stream \n### Start stream \n[...]\n#### Stop stream \n##### Invalidate stream \n###### Release stream \n\nI don't unschedule the stream from the run loop since I invalidate it.\n\n> Also, is it possible that one FSEventStream gets \n> deleted on one thread and another is created on\n> another thread at the same time?  Can you see if\n> putting all FSEventStream creation/deletion on \n> the same thread makes the problem go away?\n> \n\n\nAll the stream related stuff is happening on the same thread (at least for now).\nPlus, in my example, I don't create a new stream after deleting the first one (since I have nothing left to watch).\n\nIt seems to me the stream may not be properly closed, or it is trying to access something that doesn't exist anymore.\nBut I am following all the steps for properly stopping and releasing the stream.\n\n-- \nFabien Freling\nSoftware Engineer, Platform team\nNokia, Qt Development Frameworks\n\n _______________________________________________\nDo not post admin requests to the list. They will be ignored.\nFilesystem-dev mailing list      (Filesystem-dev@lists.apple.com)\nHelp/Unsubscribe/Update your Subscription:\nhttp://lists.apple.com/mailman/options/filesystem-dev/mlsubscriber.tech%40csmining.org\n\nThis email sent to mlsubscriber.tech@csmining.org\n\n", 'subject': 'Re: FSEvents errors after the removal of a watched directory'}