{'body': '\r\nOn May 18, 2010, at 18:41 PM, Daniel Markarian wrote:\r\n\r\n> Hey Dale,\r\n>\r\n> You have to use BSD.  eg.\r\n>\r\n>     1. DADiskCopyDescription()\r\n>     2. CFDictionaryGetValue() with kDADiskDescriptionVolumePathKey\r\n>     3. CFURLGetFileSystemRepresentation()\r\n>     4. statfs()\r\n>     5. f_flags with MNT_DONTBROWSE\r\n\r\nSample code would have been helpful but I guess I can try and figure =20\r\nit out.\r\n\r\n> I have a suggestion though.  It seems to me that the mount can be =20\r\n> made without the assistance of an I/O Kit extension and a Disk =20\r\n> Arbitration daemon.  You can mount a diskXs3 partition directly =20\r\n> with BSD, through your application, agent, or whatnot, without any =20\r\n> requirement to expose diskXs3s1 in I/O Kit.  eg.\r\n>\r\n>     /sbin/mount -t hfs -o nobrowse /dev/diskXs3 /var/tmp/=20\r\n> com.MyCompany.MyProduct.X\r\n\r\nFails cause the directory does not exist so I would have to not only =20\r\ncreate the directory I would have to remove it upon a dismount and =20\r\ncreate code to manage multiple drives.\r\n\r\n> You can use posix_spawn() to invoke such a command.\r\n>\r\n> Dan\r\n>\r\n> PS:  Disk Arbitration 1 is deprecated, thus the sample code that =20\r\n> uses Disk Arbitration 1 is deprecated.  It is not useful in modern =20\r\n> code, but if you must insist, look at disktool.c in the Disk =20\r\n> Arbitration project.\r\n\r\nThis code did not display the nobrowse option.\r\n\r\nOK, how can I do it using DA 2?\r\n\r\n> Le 2010-05-16 =E0 14:24, websrvr a =E9crit :\r\n>\r\n>> Does anyone know how I can find out if a partition is mounted =20\r\n>> nobrowse using the DA framework?\r\n>>\r\n>> -- Dale\r\n>\r\n>\r\n\r\n _______________________________________________\r\nDo not post admin requests to the list. They will be ignored.\r\nFilesystem-dev mailing list      (Filesystem-dev@lists.apple.com)\r\nHelp/Unsubscribe/Update your Subscription:\r\nhttp://lists.apple.com/mailman/options/filesystem-dev/mlsubscriber.tech%40csmining.org\r\n\r\nThis email sent to mlsubscriber.tech@csmining.org\r\n\r\n', 'subject': 'Re: mount information from DA framework.'}