{'body': '>> I have no idea what that\'s supposed to mean. You\'d use a =\r\ndecompression session and do whatever you want with the pixel buffers it =\r\ngives you. Why do you think you can\'t?\r\n\r\nI believe this is a newbie question related to the general use of the =\r\ndecompression session. Let me try to explain:=20\r\n\r\nFirst I initialize my decompression session within the data proc =\r\ncallback function:\r\n\r\n*******START***********\r\nif (videoData->decompressionSession =3D=3D NULL) {\r\n    cout << "create decompression session: ";\r\n    ImageDescriptionHandle imageDesc =3D =\r\n(ImageDescriptionHandle)NewHandle(0);\r\n    err =3D SGGetChannelSampleDescription(c, (Handle)imageDesc);\r\n    err =3D createDecompressionSession( imageDesc,=20\r\n                                videoData->width, =\r\nvideoData->height,k32BGRAPixelFormat,=20\r\n                                displayAndCompressFrame, videoData,=20\r\n                                &videoData->decompressionSession);\r\n\r\n    if (err =3D=3D 0) cout << "SUCCESS" << endl; else cout << "FAILED" =\r\n<< endl;\r\n}\r\n*******END***********\r\n\r\n\r\nI do the same for a compression session:\r\n\r\n\r\n*******START***********\r\nif (videoData->compressionSession =3D=3D NULL) {\r\n    cout << "create compression session: ";\r\n    err =3D createCompressionSession(\r\n                                videoData->width, videoData->height, =\r\nvideoData->codecType,=20\r\n                                videoData->averageDataRate, =\r\nvideoData->timeScale,\r\n                                useCompressedFrame, videoData,\r\n                                &videoData->compressionSession );\r\n    if (err =3D=3D 0) cout << "SUCCESS" << endl; else cout << "FAILED" =\r\n<< endl;\r\n}  =20\r\n*******END***********\r\n\r\n\r\nFurthermore, within the data proc callback I have the decompression =\r\ncall:\r\n\r\n\r\n*******START***********\r\nerr =3D ICMDecompressionSessionDecodeFrame( =\r\nvideoData->decompressionSession,\r\n                        (UInt8 *)p, len, NULL, &frameTime, videoData );\r\n*******END***********\r\n\r\n\r\nwhich finally allows me to access the pure pixelBuffer to be accessed in =\r\nmy "displayAndCompressFrame" function.\r\nIn my "displayAndCompressFrame"-function I display the pixels on a =\r\ncustom frame and compress the frame via:\r\n\r\n\r\n*******START***********\r\nerr =3D ICMCompressionSessionEncodeFrame( videoData->compressionSession, =\r\npixelBuffer,\r\n                                displayTime, displayDuration, =\r\nvalidTimeFlags,\r\n                                frameOptions, NULL, NULL );\r\n*******END***********\r\n\r\n\r\nThis triggers my "useCompressedFrame"-function:\r\n\r\n\r\n*******START***********\r\nstatic OSStatus useCompressedFrame( void *encodedFrameOutputRefCon,\r\n                                   ICMCompressionSessionRef session,\r\n                                   OSStatus err,\r\n                                   ICMEncodedFrameRef encodedFrame,\r\n                                   void *reserved ){\r\n\r\n  int size =3D ICMEncodedFrameGetDataSize( encodedFrame );\r\n\r\n  //// WHAT NOW ???\r\n\r\n  return err;\r\n}\r\n******** END***************\r\n\r\n\r\nin which I can send the encoded frame across a network but before I =\r\ninvolve any network functionality I first want to test if the =\r\ndecompression works. However, here is the problem and I will start with =\r\na simple first question:=20\r\n\r\nCan I feed the encoded frame to the same decompression session which =\r\ndecompresses my device data and displays it or do I need to create a =\r\nsecond decompression session with the respective callback ? If I need to =\r\ncreate another decompression session are there any special requirements =\r\nI need to take care of  - so far my first try also failed.\r\n\r\nThanks a lot in advance,\r\nbest\r\n\r\n-- A l e x\r\n\r\n\r\n\r\n\r\n>=20\r\n>=20\r\n> --\r\n> Seth Willits\r\n>=20\r\n>=20\r\n>=20\r\n> _______________________________________________\r\n> Do not post admin requests to the list. They will be ignored.\r\n> QuickTime-API mailing list      (QuickTime-API@lists.apple.com)\r\n> Help/Unsubscribe/Update your Subscription:\r\n> =\r\nhttp://lists.apple.com/mailman/options/quicktime-api/alexander_carot%40gmx=\r\n.net\r\n>=20\r\n> This email sent to alexander_carot@gmx.net\r\n\r\n _______________________________________________\r\nDo not post admin requests to the list. They will be ignored.\r\nQuickTime-API mailing list      (QuickTime-API@lists.apple.com)\r\nHelp/Unsubscribe/Update your Subscription:\r\nhttp://lists.apple.com/mailman/options/quicktime-api/mlsubscriber.tech%40csmining.org\r\n\r\nThis email sent to mlsubscriber.tech@csmining.org\r\n\r\n', 'subject': 'Re: ICMCompressionSession question'}