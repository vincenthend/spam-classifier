{'body': '>> At certain times, seems Friday noontime, I am unable to shutdown the\n>> system. Instead of the usual scripts to killing all processes, unmounting\n>> everything and will now halt, goodby, I get:\n>> \n>>  process running pstree (or something like that)\n>>  shutdown aborted\n>> \n>>  At this point, the system (or at least any console or UI) is dead.\n>> \n>>  What it this?\n\n\n> Just see which process is running pstree.\n> "ps -eaf | grep pstree"\n> You could find the parent pid of pstree (second column).\n> Look at the parent of pstree, and the process started this one.\n> If you go back that way, finally you will reach init, but before that you\n> could find which system process started these processes.\nI\'ll have to try it when I know the thing is running.\n\n> As I recall, pstree is not part of basic installation.\n> It was put to do some scripting, regarding found, in\n> perl/python?\n> My first bet would be to remove offensive cron line and\n> shutdown normally. Than to do filesystem checks. Next,\n> to set cron to use pstree as a regular user. I think that\n> shutdown was done in some parts, aka closed network. What\n> has to wait, hangs the system.\n> Otherwise, there is a chance that some housekeeping pro-\n> cesses are started at noon every day. You could always\n> look at /etc directory and find them. Some unices have\n> it in /etc/periodic/daily. It starts with #!/bin/sh.\n> Another clue may be in /var/log, as a result of newsyslog.conf.\n\nI have no /etc/periodic and no logs for pstree\n\nI manually ran it (x11 variant) and this is what I got:\ninit-+-Xprt\n     |-akonadi_control-+-akonadi_ical_re\n     |                 |-8*[akonadi_kabc_re]\n     |                 |-4*[akonadi_kcal_re]\n     |                 |-42*[akonadi_maildir]\n     |                 |-akonadi_maildis\n     |                 |-akonadi_nepomuk---{akonadi_nepomu}\n     |                 |-akonadi_vcard_r\n     |                 |-akonadiserver-+-mysqld---74*[{mysqld}]\n     |                 |               `-66*[{akonadiserver}]\n     |                 `-4*[{akonadi_contro}]\n     |-apmd\n     |-atd\n     |-avahi-daemon---avahi-daemon\n     |-boinc\n     |-clamd---2*[{clamd}]\n     |-console-kit-dae---63*[{console-kit-da}]\n     |-cron\n     |-cupsd\n     |-das_watchdog---{das_watchdog}\n     |-3*[dbus-daemon]\n     |-2*[dbus-launch]\n     |-ddclient\n     |-dirmngr\n     |-dovecot-+-2*[dovecot-auth]\n     |         |-imap\n     |         |-3*[imap-login]\n     |         `-3*[pop3-login]\n     |-exim4\n     |-fail2ban-server---6*[{fail2ban-serve}]\n     |-fetchmail\n     |-2*[getty]\n     |-gpm\n     |-hald-+-hald-runner-+-hald-addon-inpu\n     |      |             `-hald-addon-stor\n     |      `-{hald}\n     |-in.tftpd\n     |-inetd\n     |-jackdbus\n     |-kaccess\n     |-kded4---{kded4}\n     |-kdeinit4-+-kio_file\n     |          |-kio_http_cache_\n     |          |-kio_imap4\n     |          |-klauncher\n     |          |-ksmserver-+-kwin\n     |          |           `-{ksmserver}\n     |          |-python---python---python\n     |          `-qjackctl---{qjackctl}\n     |-kdm-+-Xorg\n     |     `-kdm---startkde-+-kwrapper4\n     |                      `-2*[ssh-agent]\n     |-kget\n     |-kglobalaccel\n     |-klipper\n     |-klogd\n     |-kmail---{kmail}\n     |-kmix\n     |-knemo\n     |-knotify4\n     |-korgac---{korgac}\n     |-krunner---{krunner}\n     |-kxkb---{kxkb}\n     |-nepomukserver\n     |-plasma-desktop-+-ksysguardd\n     |                `-7*[{plasma-desktop}]\n     |-portmap\n     |-postmaster-+-postmaster\n     |            `-postmaster---postmaster\n     |-preload\n     |-proftpd\n     |-rpc.mountd\n     |-rpc.statd\n     |-smartd\n     |-spamd---2*[spamd]\n     |-sshd\n     |-svscanboot-+-readproctitle\n     |            `-svscan\n     |-syslogd\n     |-tinyproxy---11*[tinyproxy]\n     |-udevd---2*[udevd]\n     |-xfs\n     |-xfstt\n     `-yakuake-+-bash---pstree.x11\n               `-{yakuake}\nPress return to close\n\nWhich would basically reflect what init ran and what kde4 is doing when I did \nit. Why would this be stuck at the end?\n\n\n-- \nTo UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org \nwith a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org\nArchive: http://lists.debian.org/201005091612.33337.d_baron@012.net.il\n\n\n', 'subject': 'Re: Shutdown problem -- cron job related?'}