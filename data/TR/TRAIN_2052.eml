{'body': '>> At certain times, seems Friday noontime, I am unable to shutdown the\r\n>> system. Instead of the usual scripts to killing all processes, unmounting\r\n>> everything and will now halt, goodby, I get:\r\n>> \r\n>>  process running pstree (or something like that)\r\n>>  shutdown aborted\r\n>> \r\n>>  At this point, the system (or at least any console or UI) is dead.\r\n>> \r\n>>  What it this?\r\n\r\n\r\n> Just see which process is running pstree.\r\n> "ps -eaf | grep pstree"\r\n> You could find the parent pid of pstree (second column).\r\n> Look at the parent of pstree, and the process started this one.\r\n> If you go back that way, finally you will reach init, but before that you\r\n> could find which system process started these processes.\r\nI\'ll have to try it when I know the thing is running.\r\n\r\n> As I recall, pstree is not part of basic installation.\r\n> It was put to do some scripting, regarding found, in\r\n> perl/python?\r\n> My first bet would be to remove offensive cron line and\r\n> shutdown normally. Than to do filesystem checks. Next,\r\n> to set cron to use pstree as a regular user. I think that\r\n> shutdown was done in some parts, aka closed network. What\r\n> has to wait, hangs the system.\r\n> Otherwise, there is a chance that some housekeeping pro-\r\n> cesses are started at noon every day. You could always\r\n> look at /etc directory and find them. Some unices have\r\n> it in /etc/periodic/daily. It starts with #!/bin/sh.\r\n> Another clue may be in /var/log, as a result of newsyslog.conf.\r\n\r\nI have no /etc/periodic and no logs for pstree\r\n\r\nI manually ran it (x11 variant) and this is what I got:\r\ninit-+-Xprt\r\n     |-akonadi_control-+-akonadi_ical_re\r\n     |                 |-8*[akonadi_kabc_re]\r\n     |                 |-4*[akonadi_kcal_re]\r\n     |                 |-42*[akonadi_maildir]\r\n     |                 |-akonadi_maildis\r\n     |                 |-akonadi_nepomuk---{akonadi_nepomu}\r\n     |                 |-akonadi_vcard_r\r\n     |                 |-akonadiserver-+-mysqld---74*[{mysqld}]\r\n     |                 |               `-66*[{akonadiserver}]\r\n     |                 `-4*[{akonadi_contro}]\r\n     |-apmd\r\n     |-atd\r\n     |-avahi-daemon---avahi-daemon\r\n     |-boinc\r\n     |-clamd---2*[{clamd}]\r\n     |-console-kit-dae---63*[{console-kit-da}]\r\n     |-cron\r\n     |-cupsd\r\n     |-das_watchdog---{das_watchdog}\r\n     |-3*[dbus-daemon]\r\n     |-2*[dbus-launch]\r\n     |-ddclient\r\n     |-dirmngr\r\n     |-dovecot-+-2*[dovecot-auth]\r\n     |         |-imap\r\n     |         |-3*[imap-login]\r\n     |         `-3*[pop3-login]\r\n     |-exim4\r\n     |-fail2ban-server---6*[{fail2ban-serve}]\r\n     |-fetchmail\r\n     |-2*[getty]\r\n     |-gpm\r\n     |-hald-+-hald-runner-+-hald-addon-inpu\r\n     |      |             `-hald-addon-stor\r\n     |      `-{hald}\r\n     |-in.tftpd\r\n     |-inetd\r\n     |-jackdbus\r\n     |-kaccess\r\n     |-kded4---{kded4}\r\n     |-kdeinit4-+-kio_file\r\n     |          |-kio_http_cache_\r\n     |          |-kio_imap4\r\n     |          |-klauncher\r\n     |          |-ksmserver-+-kwin\r\n     |          |           `-{ksmserver}\r\n     |          |-python---python---python\r\n     |          `-qjackctl---{qjackctl}\r\n     |-kdm-+-Xorg\r\n     |     `-kdm---startkde-+-kwrapper4\r\n     |                      `-2*[ssh-agent]\r\n     |-kget\r\n     |-kglobalaccel\r\n     |-klipper\r\n     |-klogd\r\n     |-kmail---{kmail}\r\n     |-kmix\r\n     |-knemo\r\n     |-knotify4\r\n     |-korgac---{korgac}\r\n     |-krunner---{krunner}\r\n     |-kxkb---{kxkb}\r\n     |-nepomukserver\r\n     |-plasma-desktop-+-ksysguardd\r\n     |                `-7*[{plasma-desktop}]\r\n     |-portmap\r\n     |-postmaster-+-postmaster\r\n     |            `-postmaster---postmaster\r\n     |-preload\r\n     |-proftpd\r\n     |-rpc.mountd\r\n     |-rpc.statd\r\n     |-smartd\r\n     |-spamd---2*[spamd]\r\n     |-sshd\r\n     |-svscanboot-+-readproctitle\r\n     |            `-svscan\r\n     |-syslogd\r\n     |-tinyproxy---11*[tinyproxy]\r\n     |-udevd---2*[udevd]\r\n     |-xfs\r\n     |-xfstt\r\n     `-yakuake-+-bash---pstree.x11\r\n               `-{yakuake}\r\nPress return to close\r\n\r\nWhich would basically reflect what init ran and what kde4 is doing when I did \r\nit. Why would this be stuck at the end?\r\n\r\n\r\n-- \r\nTo UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org \r\nwith a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org\r\nArchive: http://lists.debian.org/201005091612.33337.d_baron@012.net.il\r\n\r\n\r\n', 'subject': 'Re: Shutdown problem -- cron job related?'}