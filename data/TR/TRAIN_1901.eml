{'body': 'On Sat, May 22, 2010 at 8:08 AM, Klistvud <quotations@aliceadsl.fr> wrote:\n>\n> I\'ve recently swapped the hard drive on my box, after cloning my Lenny (and\n> other) partition(s) from the old drive that was becoming too small. I just\n> did dd if=/dev/hda2 of=/dev/hdb2\n>\n> After changing the UUID of the new partition and manually making some minor\n> adjustments to /boot/grub/grub.cfg and /etc/fstab, the system boots OK, but\n> there are two glitches I can\'t seem to sort out:\n>\n> 1. hibernation bails out with the message "Cannot find swap device",\n> although there IS a big enough, and actively used swap partition on the new\n> drive; and\n>\n> 2. update-grub still refers to the OS partition by the old UUID, which is no\n> longer correct. In order to boot, I must manually edit grub.cfg, but I\'d\n> like this fixed *properly*.\n>\n> I suspect both issues are related to the changed UUIDs of both the swap and\n> the OS partitions.\n>\n> Now, my questions to the savants out there:\n> 1. How do I tell the hibernation scripts that there IS a swap device, but\n> with another UUID?\n> 2. Where do the grub2 scripts get their UUIDs from, so I can replace the\n> wrong UUIDs with the right ones?\n\nRe 1. Your swap partition\'s UUID must be different. Check\n"/etc/initramfs-tools/". There is a "resume" file (in that dir or in a\nsubdir) that will have your swap partition\'s UUID.\n\nRe 2. What do you mean by "After changing the UUID of the new\npartition"? After "dd...", did your run "tune2fs -U ..." on your root\npartition (or the equivalent for xfs, ...; I am assuming that you have\njust one partition)? If you didn\'t, your root partition still has the\nsame UUID and update-grub is picking it up correctly (in which case, I\nhave no idea idea how you are booting up!).\n\n\n-- \nTo UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org \nwith a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org\nArchive: http://lists.debian.org/AANLkTin0JzLSSk1lQVKKF3R5_YjtYnON5gxP6Wh5YKdv@mail.csmining.org\n\n\n', 'subject': 'Re: Cloned Lenny OS partition: bumped into hibernate and grub2 issues'}