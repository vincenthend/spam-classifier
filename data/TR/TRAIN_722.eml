{'body': 'On Wed, Apr 14, 2010 at 19:38:23 -0500, francis southern wrote:\r\n> On 14 April 2010 16:51, Florian Kulzer wrote:\r\n> > On Wed, Apr 14, 2010 at 22:06:41 +0200, Sjoerd Hardeman wrote:\r\n> >> Hi list,\r\n> >>\r\n> >> After a large set of updates today on testing, xorg no longer picks up\r\n> >> my udev rules file. A few months ago hal stopped working, as a change =\r\nto\r\n> >> udev was required (see also the list history for several threads on th=\r\nat\r\n> >> topic).\r\n\r\n[...]\r\n\r\n> I am in exactly the same situation.\r\n\r\n[...]\r\n\r\n> > 1) Does hal know that there is a touchpad?\r\n> >\r\n> > =A0 lshal -u $(hal-find-by-capability --capability input.touchpad)\r\n> >\r\n> > 2) The output of 1) should tell you the associated linux.device_file; in\r\n> > =A0 my case this is /dev/input/event7. The next step is to find the\r\n> > =A0 devpath:\r\n> >\r\n> > =A0 udevadm info --query=3Dpath --name=3D/dev/input/event7\r\n> >\r\n> > 3) I get "/devices/platform/i8042/serio4/input/input7/event7" from 2).\r\n> > =A0 Now one can test what udev does when the device is added; maybe that\r\n> > =A0 command will give you a clue, or you can make the output available =\r\nso\r\n> > =A0 that we can compare:\r\n> >\r\n> > =A0 udevadm test /devices/platform/i8042/serio4/input/input7/event7\r\n> >\r\n>=20\r\n> I followed your advice, here\'s the output of that command:\r\n> http://debian.pastebin.com/Bft7phBw\r\n> It\'s quite long, and I have to say that I have very little\r\n> understanding of anything it says...\r\n\r\nIt looks OK to me; your custom rules file is read by udev (line 24) and\r\nthe corresponding variables are set (lines 110-116).\r\n\r\n> I do know that /etc/udev/rules.d/66-xorg-synaptics.rules is the file\r\n> that I created when HAL stopped working, and it was working up until\r\n> two days ago (more or less).\r\n\r\nI now tried to activate the extra options in the fdi file that comes\r\nwith xserver-xorg-input-synaptics and that gave me right-edge-scrolling\r\nand the other stuff. Thus it seems that the fdi directives are working\r\nright now on my Sid system. (As I wrote earlier, I have not used these\r\nfeatures in a long while, therefore I do not know if the fdi files\r\nworked all the time or if this functionality was only recently\r\nrestored.)\r\n\r\nI suggest that you try the same approach and then we can compare our\r\nresults. In other words:\r\n\r\n1) Shut down X and remove your custom udev rules for the time being,\r\n   then restart udev. (invoke-rc.d udev restart)\r\n\r\n2) Uncomment the extra rules in\r\n   /usr/share/hal/fdi/policy/20thirdparty/11-x11-synaptics.fdi. You have\r\n   to close the comment in the "<!-- EXAMPLES:" line by adding " -->" to\r\n   the end of this line; also insert a new line with "<!--" just before\r\n   the line starting with "For other possible options, check".\r\n\r\n3) Restart dbus, which will also restart hal.\r\n   (invoke-rc.d debus restart)\r\n\r\n4) Verify that hal is paying attention to the newly-uncommented options;\r\n   the output of\r\n  =20\r\n   lshal -u $(hal-find-by-capability --capability input.touchpad)\r\n\r\n   should include:\r\n\r\n   input.x11_driver =3D \'synaptics\'  (string)\r\n   input.x11_options.CircularScrolling =3D \'true\'  (string)\r\n   input.x11_options.HorizTwoFingerScroll =3D \'true\'  (string)\r\n   input.x11_options.MaxTapMove =3D \'2000\'  (string)\r\n   input.x11_options.SHMConfig =3D \'true\'  (string)\r\n   input.x11_options.VertEdgeScroll =3D \'true\'  (string)\r\n   input.x11_options.VertTwoFingerScroll =3D \'true\'  (string)\r\n\r\n5) Restart X, then find the synaptics part in /var/log/Xorg.0.log. It\r\n   should contain lines like these:\r\n\r\n   (II) config/hal: Adding input device SynPS/2 Synaptics TouchPad\r\n   (II) LoadModule: "synaptics"\r\n   (II) Loading /usr/lib/xorg/modules/input//synaptics_drv.so\r\n   (II) Module synaptics: vendor=3D"X.Org Foundation"\r\n           compiled for 1.6.5, module version =3D 1.2.0\r\n           Module class: X.Org XInput Driver\r\n           ABI class: X.Org XInput driver, version 4.0\r\n   (II) Synaptics touchpad driver version 1.2.0\r\n   (**) Option "Device" "/dev/input/event7"\r\n   (II) SynPS/2 Synaptics TouchPad: x-axis range 1472 - 5472\r\n   (II) SynPS/2 Synaptics TouchPad: y-axis range 1408 - 4448\r\n   (II) SynPS/2 Synaptics TouchPad: pressure range 0 - 255\r\n   (II) SynPS/2 Synaptics TouchPad: finger width range 0 - 0\r\n   (II) SynPS/2 Synaptics TouchPad: buttons: left right middle double triple\r\n   (**) Option "SHMConfig" "true"\r\n   (**) Option "MaxTapMove" "2000"\r\n   (**) Option "VertEdgeScroll" "true"\r\n   (**) Option "VertTwoFingerScroll" "true"\r\n   (**) Option "HorizTwoFingerScroll" "true"\r\n   (**) Option "CircularScrolling" "true"\r\n\r\n6) Check if VertEdgeScroll and the other stuff works; if it does then\r\n   you can try to add your other options to the fdi file and remove the\r\n   ones that you do not like. Once you are done with the tests you can\r\n   restore 20thirdparty/11-x11-synaptics.fdi to its original state and\r\n   put your rules into a separate fdi files so that they will not be\r\n   overwritten at the next upgrade of xserver-xorg-input-synaptics.\r\n\r\n--=20\r\nRegards,            |\r\n          Florian   |\r\n\r\n\r\n-- \r\nTo UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org \r\nwith a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org\r\nArchive: http://lists.debian.org/20100415192418.GA5431@isar.localhost\r\n\r\n\r\n', 'subject': 'Re: xorg synaptics driver no longer working with udev?'}