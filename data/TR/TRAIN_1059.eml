{'body': 'Ron Johnson put forth on 4/24/2010 2:11 PM:\r\n> On 04/24/2010 12:53 PM, B. Alexander wrote:\r\n\r\n>> Does anyone have suggestions and practical experience with the pros and\r\n>> cons of the various filesystems?\r\n>>\r\n> \r\n> XFS is the canonical fs for when you have lots of Big Files.  I\'ve also\r\n> seen simple benchmarks on this list showing that it\'s faster than\r\n> ext3/ext4.\r\n\r\nI\'ve been very happy with XFS for all file sizes and counts, but my server\r\nisn\'t heavy duty by any means.  It handles multiple 50-60MB mbox files with\r\nease as well as serving Samaba shares containing 5000+ files per dir.  Given\r\nthat the large mbox files become fairly fragmented over time due to constant\r\nappends, having an online file defragmenter, xfs_fsr, is very handy.  The\r\nmyth that certain filesystems don\'t fragment files and thus don\'t need a\r\ndefrag tool are just that, myths.  I\'ve run with mbox on both EXT2 and XFS,\r\nand the larger mbox files always fragment over time regardless of\r\nfilesystem.  Prior to my last xfs_fsr run, I had 10 mbox files (a single\r\nuser) that ranged from 10-35 fragments each.  Those in the 20-35 fragment\r\nrange were 40-60MB files.  I don\'t have empirical data to show how much this\r\nnegatively affected performance, but my mail client did seem a bit snappier\r\nafter defragging.\r\n\r\n> nilfs2, btrfs and exofs are *definitely* still beta or even alpha.\r\n\r\nI\'ve not played with any of these myself, but what I\'m seeing on the various\r\nmailing lists suggests what Ron states here.\r\n\r\n> xfs and ext[34] can all be extended.  For production servers with a\r\n> working UPS, I\'d go with ext3 for / & /boot and xfs (since it hates\r\n> sudden power outages) for the "/data" directories.  For production\r\n> workstations, I\'d stick with the standby ext3 for / & /boot and ext3 or\r\n> xfs for /home and "/data" (depending on the workload).\r\n\r\nFor production servers I\'d go with XFS everywhere as long as your kernel\r\n(and rescue disk kernel) has XFS built-in.  Reliable power (via UPS and/or\r\ngenerator) is part of the definition of "production" server, so there\'s no\r\nreason to shy away from XFS for any partitions or logical volumes due to\r\npower loss fears.\r\n\r\nSome recent FS benchy comparisons with 2.6.34-rc3 on a big RAID setup:\r\n\r\nhttp://btrfs.boxacle.net/repository/raid/2010-04-14_2004/2.6.34-rc3/2.6.34-rc3.html\r\n\r\nAs always, no single fs wins across the board.  XFS falls flat on its face\r\nin the synthetic mail server test, but does very well in all others.  Given\r\nits results in the mail test are almost identical to EXT4, and that EXT4\r\nno-barrier increases performance 7 fold, I\'d say some tweaking of XFS would\r\nbring its performance back in line with the others.\r\n\r\n-- \r\nStan\r\n\r\n\r\n-- \r\nTo UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org \r\nwith a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org\r\nArchive: http://lists.debian.org/4BD51EF5.7040201@hardwarefreak.com\r\n\r\n\r\n', 'subject': 'Re: Filesystem recommendations'}