{'body': 'Aaron Toponce wrote:\r\n> On 05/19/2010 12:47 PM, Erwan David wrote:\r\n>> \tHi,\r\n>>\r\n>> I have a setup with 2 disks and following raid setting:\r\n>>\r\n>> sda1+sdb1 -> md0, /\r\n>> sda2+sdb2 -> md1 swap\r\n>> sda3+sdb3 -> md2 /home\r\n>>\r\n>> I\'d like to resize partitions to get more space on md2 and less on md0.\t\r\n>>\r\n>> What would bea good way to achieve this ?\r\n> \r\n> The "best" way to acheive this would be to use LVM above your software\r\n> RAID. At that point, it would be very painless, compared to what is\r\n> ahead of you now. If you\'re curious, here would be the steps:\r\n> \r\n> mdadm -C /dev/md0 -n 2 -l 1 -a yes /dev/sd{a,b}\r\n> pvcreate /dev/md0\r\n> vgcreate home /dev/md0\r\n> lvcreate -L 1G -n swap home\r\n> lvcreate -L 10G -n root home\r\n> lvcreate -l 100%FREE -n home home\r\n> \r\n> Then, for giving more space to home, and less to root, boot off a live\r\n> CD, and (assuming you\'re using ext3/4):\r\n> \r\n> e2fsck /dev/home/root\r\n> resize2fs /dev/home/root 6G\r\n> lvreduce -L 6G /dev/home/root\r\n> lvextend -L +4G /dev/home/home\r\n> resize2fs /dev/home/home\r\n> \r\n> That\'s it! However, because you chose not to use LVM, you will need to\r\n> boot of a live CD that supports Linux software RAID, rebuild the array,\r\n> and perform the resizing there. I\'m not sure if GParted supports this or\r\n> not. Worth checking out, however.\r\n> \r\n> I would personally recommend backing up your data, and reinstalling,\r\n> with LVM on top of your software RAID. You still have the redundancy,\r\n> and you have the awesome flexibility of resizing volumes with great ease.\r\n> \r\n\r\nThanks. But I would have preferred avoiding full reinstall...\r\n\r\nI found this tutorial\r\nhttp://www.howtoforge.com/how-to-resize-raid-partitions-shrink-and-grow-software-raid\r\n\r\nI will try first.\r\n\r\n-- \r\nErwan\r\n\r\n\r\n-- \r\nTo UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org \r\nwith a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org\r\nArchive: http://lists.debian.org/4BF4EB53.9060908@rail.eu.org\r\n\r\n\r\n', 'subject': 'Re: Resizing Raid 1 partitions'}