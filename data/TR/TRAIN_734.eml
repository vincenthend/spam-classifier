{'body': 'Well, I\'ve used the check-the-modify-time cache trick for files in\nmany places (not just exmh) so some part of me certainly thinks it\nis effective.  However, it occurred to me that if we do checkpoint\nstate, then aren\'t we modifying the sequences file for the current\nfolder on every message read?  Perhaps we look at the sequences file\nmore than once per message view?  Just idle speculation - we can\nstick in some time calls to find out how expensive things are.\n\nSomeone asked about increasing the time resolution in the exmh log.\nWe could make that conditional on some support available in 8.3 -\nTcl has had "clock seconds" (like gettimeofday) and "clock clicks"\n(high resolution timer) for some time.  But in 8.3 we\'ve calibrated\nclock clicks values to microseconds.  It is still only useful for\nrelative times, but each call to Exmh_Log could emit the microsecond\ndelta since the last log record.  Of course, we are measuring all\nthe overhead of taking the log record, etc.  I\'ll try it out.\n\n>>>Chris Garrigues said:\n > > From:  Brent Welch <welch@panasas.com>\n > > Date:  Wed, 28 Aug 2002 10:32:42 -0700\n > >\n > > \n > > >>>Robert Elz said:\n > >  > Mh_Sequence also goes and rereads the files (.mh_sequences and the\n > >  > context file) but I\'m not sure how frequently that one is called.\n > > \n > > In some places I maintain caches of files by checking their modify\n > time,\n > > but the sequence files are soo small that by the time you stat them to\n > > check their date stamp, you could just read them again.\n > \n > Do you really think this is true?  I added a modify time check thinking\n > that \n > it would make an improvement since we were reading it a *lot* more times\n > in \n > the new code because we\'re trying to use the sequences.\n > \n > On the other hand, the sequences files are probably being read out of\n > cache \n > when that happens anyway.\n > \n > Even with a small file, I\'d think that the time taken to do a \n > [file mtime $filename] would be worth it.  My code is in proc\n > MhReadSeqs.\n > \n > Chris\n > \n > -- \n > Chris Garrigues                 http://www.DeepEddy.Com/~cwg/\n > virCIO                          http://www.virCIO.Com\n > 716 Congress, Suite 200\n > Austin, TX  78701\t\t+1 512 374 0500\n > \n >   World War III:  The Wrong-Doers Vs. the Evil-Doers.\n > \n > \n\n--\nBrent Welch\nSoftware Architect, Panasas Inc\nPioneering the World\'s Most Scalable and Agile Storage Network\nwww.panasas.com\nwelch@panasas.com\n\n\n\n_______________________________________________\nExmh-workers mailing list\nExmh-workers@redhat.com\nhttps://listman.redhat.com/mailman/listinfo/exmh-workers\n\n', 'subject': 'Re: New Sequences Window'}