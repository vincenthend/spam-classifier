{'body': 'On Wed, Oct 02, 2002 at 10:45:04PM +0200, Matthias Saou wrote:\n> > So I\'ve attached a patch to specify an alternate kernel by setting the\n> > "TARGET_KERNEL" environment variable before running rpmbuild. You\n> > still need to have the rpm for the specified kernel installed, but at\n> > least it doesn\'t have to be currently running. It\'s kinda hackish, so\n> > if someone has a better way to do this, let me know.\n> \n> That idea looks good although it maybe needs to be tweaked a bit more (what\n> you sent doesn\'t support packages named "kernel-smp"). I\'d also prefer a\n> cleaner way than the env variable, and preferrably not editing the spec...\n> probably "--define \'target 2.4.xx-xx\' --with smp". Sound good enough?\n> The BuildRequires on "kernel-source" will also need to be removed because\n> it won\'t necessarily need to be true, and that does bug me a bit :-/\n\nThe "--define" is exactly what I was looking for! I was trying to\nfigure out a way to do it within the mechanism of rpm (like the\n"--with" switches), but for some reason didn\'t think of using\n"--define". My computer is currently gone for repairs, but once it\'s\nback, I\'ll rewrite the specfile, add support for kernel-smp, and email\nit to the list for further criticism :)\n\nAs far as requiring kernel-source, I don\'t feel it\'s a big problem. If\nyou\'re gonna go to the trouble of packaging custom kernels into rpms,\nit\'s not a far stretch to package the source tree too (as I currently\ndo).\n\nAlso, I\'ve found that the alsa-driver source needs a usb-related patch \nto compile under the latest test kernels (2.4.20-preX). Are other \npeople seeing the same thing, or is this just a problem with my setup?\n\ngary\n\nP.S. If I didn\'t mention it before, thanks for the alsa packages! They \ngreatly simplified what used to take way too long before.\n\n_______________________________________________\nRPM-List mailing list <RPM-List@freshrpms.net>\nhttp://lists.freshrpms.net/mailman/listinfo/rpm-list\n\n\n', 'subject': 'Re: alsa-driver.spec tweak for homemade kernels'}