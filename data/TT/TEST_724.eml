{'body': 'On 2010-04-11 15:54, Sjoerd Hardeman wrote:\r\n> Ron Johnson schreef:\r\n>> On 2010-04-11 08:11, Clive McBarton wrote:\r\n>>> Sjoerd Hardeman wrote:\r\n>>>> mount the new device (mount -odev /dev/newdevice), and do a\r\n>>>>  rsync -ax / /media/newdevice.\r\n>>> What exactly is the advantage of this approach over "cp -a" or "mv"?\r\n>>>\r\n>>> I would have suggested mv. It has the useful property that you can\r\n>>> easily spot aborted transfers by the fact that the original device is\r\n>>> not empty afterwards.\r\n>> One note is that I\'ve had issues where symlinks remain pointing to the \r\n>> old drive.  (That was a long time ago, though, and maybe I did something\r\n>> wrong.)\r\n> I thought symlinks keep point via a file location memo, like "look at\r\n> /usr/share/the/file/you/want", which is the old location just after\r\n> copying, but the new location when you boot from your new device and\r\n> that becomes root.\r\n> \r\n\r\nNote how at the bottom or this example bar/shoe still points to \r\n../snuffle/shoe/.  When you try to "cp -axv / /some/new/root" the \r\nsame thing will happen.   In /usr/bin all the symlinks to \r\n/etc/alternatives will still point to the *current* \r\n/etc/alternatives not to /some/new/root/etc/alternatives.\r\n\r\n$ mkdir foo/snaggle snuffle/shoe\r\n$ cd foo\r\n$ ln -sf ../snuffle/shoe .\r\n$ dir\r\ntotal 44\r\ndrwxr-xr-x   3 me me  4096 2010-04-11 17:12:44 ./\r\ndrwxr-xr-x 206 me me 36864 2010-04-11 17:12:04 ../\r\nlrwxrwxrwx   1 me me    15 2010-04-11 17:12:44 shoe -> ../snuffle/shoe/\r\ndrwxr-xr-x   2 me me  4096 2010-04-11 17:12:04 snaggle/\r\n\r\n$ cd ..\r\n$ cp -av foo bar\r\n`foo\' -> `bar\'\r\n`foo/snaggle\' -> `bar/snaggle\'\r\n`foo/shoe\' -> `bar/shoe\'\r\n\r\n$ dir bar\r\ntotal 44\r\ndrwxr-xr-x   3 me me  4096 2010-04-11 17:12:44 ./\r\ndrwxr-xr-x 207 me me 36864 2010-04-11 17:13:54 ../\r\nlrwxrwxrwx   1 me me    15 2010-04-11 17:12:44 shoe -> ../snuffle/shoe/\r\ndrwxr-xr-x   2 me me  4096 2010-04-11 17:12:04 snaggle/\r\n\r\n-- \r\nDissent is patriotic, remember?\r\n\r\n\r\n-- \r\nTo UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org \r\nwith a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org\r\nArchive: http://lists.debian.org/4BC24B54.5060804@cox.net\r\n\r\n\r\n', 'subject': 'Re: Migrate OS to smaller drive?'}