{'body': "I'm running QuickTime on Windows (XP SP3) and have a reproducible way to\r\nmake MovieAudioExtractionFillBuffer in a C++ program do something strange.\r\nIt looks like it's calling exit() or doing something equivalent, but I can't\r\nsay for sure.   What I do see is that immediately after calling\r\nMovieAudioExtractionFillBuffer, execution continues in the destructors of my\r\nstatically allocated objects.  If I replace the call to\r\nMovieAudioExtractionFillBuffer with a call to exit(), I see the same thing.\r\n\r\nI'm using version 7.3 of the QuickTime SDK, but \r\n\r\nlong version;\r\nGestalt(gestaltQuickTimeVersion,&version);\r\n\r\npopulates version with 0x07668000.  I can reproduce the same behavior with\r\nversion 7.1 of the QuickTime SDK, but Gestalt still returns the same thing\r\nin this case.\r\n\r\nThe QuickTime-related things that happen before this are:\r\n\r\n- QuickTime initializes normally\r\n- QuickTime reads metadata from one aac file\r\n- QuickTime reads metadata from a second aac file\r\n- Quicktime reads the audio properties of an mp3 file\r\n- and then I call MovieAudioExtractionFillBuffer\r\n\r\nThe audio-related function calls are:\r\n\r\nMovieAudioExtractionBegin\r\nMovieAudioExtractionGetProperty(kQTPropertyClass_MovieAudioExtraction_Audio,\r\n \r\nkQTMovieAudioExtractionAudioPropertyID_AudioStreamBasicDescription);\r\nMovieAudioExtractionSetProperty(kQTPropertyClass_MovieAudioExtraction_Audio,\r\n \r\nkQTMovieAudioExtractionAudioPropertyID_AudioStreamBasicDescription);\r\n\r\nall of which work as expected (or at least I think they do).\r\n\r\nAnd then\r\n\r\nMovieAudioExtractionFillBuffer\r\n\r\nI can give more details about the API calls if necessary.  I think I'm\r\ncalling QuickTime correctly since it decodes audio successfully almost all\r\nthe time -- with this file and many others (i.e.\r\nMovieAudioExtractionFillBuffer returns normally).  I've had customers report\r\nsimilar problems, but this is the first time I've been able to reproduce it\r\nreliably myself.  Unfortunately it's with a complex program.  My attempts to\r\nreproduce this with a simpler program have failed.  It seems to be\r\ntiming-related but I can't do better than that at the moment.\r\n\r\nI'd love some help figuring out what's happening in\r\nMovieAudioExtractionFillBuffer, and even better some help making it go away.\r\nIf I need to report this in some more official way to Apple to make that\r\nhappen, please let me know.\r\n\r\nThanks much.\r\n\r\n-DB\r\n\r\n _______________________________________________\r\nDo not post admin requests to the list. They will be ignored.\r\nQuickTime-API mailing list      (QuickTime-API@lists.apple.com)\r\nHelp/Unsubscribe/Update your Subscription:\r\nhttp://lists.apple.com/mailman/options/quicktime-api/mlsubscriber.tech%40csmining.org\r\n\r\nThis email sent to mlsubscriber.tech@csmining.org\r\n\r\n", 'subject': 'MovieAudioExtractionFillBuffer calling exit?'}