{'body': 'Hey guys,\r\n\r\nI want to set up SASL authentication using LDAPDB, but it seems that\r\npostfix connects to LDAP but doesn\'t send anything to it...\r\n\r\nI try to authenticate using \'auth plain <base64>\', and I receive :\r\n\r\n535 5.7.8 Error: authentication failed: authentication failure\r\n\r\nConnection to LDAP works fine at the network level, but the only thing\r\nthat postfix send to Slapd (sniffed using tcpdump) is a "UNBIND" request.\r\nConfirmed by the logs of slapd:\r\n\r\n----\r\nMay 18 17:25:29 samchiel slapd[1431]: conn=35 fd=17 ACCEPT from\r\nIP=127.0.0.1:57368 (IP=127.0.0.1:389)\r\nMay 18 17:25:29 samchiel slapd[1431]: conn=35 op=0 UNBIND\r\nMay 18 17:25:29 samchiel slapd[1431]: conn=35 fd=17 closed\r\n----\r\n\r\nPostfix says the following:\r\n\r\n----\r\nMay 18 17:25:29 samchiel postfix/smtpd[12094]: < localhost[127.0.0.1]:\r\nauth plain XXXXXXXXXXXXXXXXXXXXX\r\nMay 18 17:25:29 samchiel postfix/smtpd[12094]: xsasl_cyrus_server_first:\r\nsasl_method plain, init_response XXXXXXXXXXXXXXXXXXXXX\r\nMay 18 17:25:29 samchiel postfix/smtpd[12094]: xsasl_cyrus_server_first:\r\ndecoded initial response\r\nMay 18 17:25:29 samchiel postfix/smtpd[12094]: warning: SASL\r\nauthentication failure: Password verification failed\r\nMay 18 17:25:29 samchiel postfix/smtpd[12094]: warning:\r\nlocalhost[127.0.0.1]: SASL plain authentication failed: authentication\r\nfailure\r\nMay 18 17:25:29 samchiel postfix/smtpd[12094]: > localhost[127.0.0.1]: 535\r\n5.7.8 Error: authentication failed: authentication failure\r\n----\r\n\r\nSo, I assumed there might be something wrong with my configuration. Since\r\nI\'m on Debian Squeeze (for testing purpose), I have a\r\n/etc/postfix/sasl/smtpd.conf that contains the configuration of ldapdb:\r\n\r\n----\r\n# cat /etc/postfix/sasl/smtpd.conf\r\npwcheck_method: auxprop\r\nauxprop_plugin: ldapdb\r\nmech_list: PLAIN LOGIN\r\nldapdb_uri: ldap://localhost\r\nldapdb_id: postfix\r\nldapdb_pw: ZZZZzzzzZZZZZZZ\r\nldapdb_mech: DIGEST-MD5 PLAIN LOGIN\r\n----\r\n\r\nand sasl directives in main.conf\r\n\r\n----\r\n# grep smtpd_sasl main.cf\r\nsmtpd_sasl_type = cyrus\r\nsmtpd_sasl_auth_enable = yes\r\nsmtpd_sasl_path = smtpd\r\nsmtpd_sasl_security_options = noanonymous\r\nsmtpd_sasl_local_domain = $mydomain\r\nsmtpd_sasl_authenticated_header = yes\r\n----\r\n\r\n\r\nDid I miss anything ? Any clue on why postfix doesn\'t send anything but an\r\nUNBIND request to LDAP ?\r\n\r\n\r\n\r\nThanks,\r\nJulien\r\n\r\n\r\n-- \r\nTo UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org \r\nwith a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org\r\nArchive: http://lists.debian.org/505f7e7fe90abdcfc03c0d7611f5ceca@localhost\r\n\r\n\r\n', 'subject': 'Postfix, SASL and LDAPDB'}